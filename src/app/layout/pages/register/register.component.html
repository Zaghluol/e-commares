<div class="w-75 my-4 mx-auto">
   <h3>Register Now:</h3>
    @if (errMassage) {
         <h2 class="alert alert-danger">{{errMassage}}</h2>
    }
   <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">

    <div class="my-3">
        <label >Name :</label>
        <input formControlName ="name" class="form-control">

        @if (registerForm.get('name')?.errors && registerForm.get('name')?.touched) {
            <div class="alert alert-danger">
                <p>Name is required and should be from 3 to 20 letters</p>
            </div>
        }
    </div>
    <div class="my-3">
        <label >Email :</label>
        <input formControlName ="email" class="form-control">

        @if (registerForm.get('email')?.errors && registerForm.get('email')?.touched) {
            <div class="alert alert-danger">
                @if (registerForm.get('email')?.errors?.['required']){
                    <p>Email is required</p>
                }
                @else if (registerForm.get('email')?.errors?.['email']) {
                    <p>please enter valid email</p>
                }
            </div>
        }
    </div>
    <div class="my-3">
        <label >Phone :</label>
        <input formControlName ="phone" class="form-control">

        @if (registerForm.get('phone')?.errors && registerForm.get('phone')?.touched) {
            <div class="alert alert-danger">
                @if (registerForm.get('phone')?.errors?.['required']){
                    <p>phone is required</p>
                }
                @else if (registerForm.get('phone')?.errors?.['pattern']) {
                    <p>please enter valid phone</p>
                }
            </div>
        }
    </div>
    <div class="my-3">
        <label >Password :</label>
        <input formControlName ="password" class="form-control">
        
        @if (registerForm.get('password')?.errors && registerForm.get('password')?.touched) {
            <div class="alert alert-danger">
                @if (registerForm.get('password')?.errors?.['required']){
                    <p>password is required</p>
                }
                @else if (registerForm.get('password')?.errors?.['pattern']) {
                    <p>please enter valid password</p>
                }
            </div>
        }
    </div>
    <div class="my-3">
        <label >rePassword :</label>
        <input formControlName ="rePassword" class="form-control">

        @if (registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched) {
            <div class="alert alert-danger">
                @if (registerForm.get('rePassword')?.errors?.['required']){
                    <p>rePassword is required</p>
                }
                @else if (registerForm.get('rePassword')?.errors?.['pattern']) {
                    <p>please enter valid rePassword</p>
                }
            </div>
        }
    </div>
    @if (registerForm.errors?.['passMatched']) {
        <div class="alert alert-danger">
            <p>Please Enter Matched Passwords</p>
        </div>
    }
    <button [disabled]="registerForm.invalid" type="submit" class="btn bg-success text-white d-block ms-auto">Register
        @if (isLoading) {
            <i class="fa-solid fa-spinner fa-spin"></i>
       }
    </button>
        
</form>
</div>